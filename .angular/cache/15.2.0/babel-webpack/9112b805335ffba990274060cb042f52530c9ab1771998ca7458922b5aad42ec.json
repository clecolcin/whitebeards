{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/data-repository\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"./loading-spinner\";\nfunction SignInComponent_em_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignInComponent_em_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"error\": a0\n  };\n};\nfunction RegisterComponent_em_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_em_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_em_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_em_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_button_25_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.cancel());\n    });\n    i0.ɵɵtext(1, \"Cancel\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵtext(1, \"Save\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r5.registerForm.invalid);\n  }\n}\nexport class SignInComponent {\n  constructor(router, dataRepository) {\n    this.router = router;\n    this.dataRepository = dataRepository;\n    this.credentials = {};\n  }\n  signIn(credentials) {\n    this.dataRepository.signIn(credentials).subscribe({\n      error: err => {\n        console.error(err, 'Error');\n      },\n      complete: () => this.router.navigate(['/catalog'])\n    });\n  }\n  cancel() {\n    this.router.navigate(['/']);\n  }\n}\nSignInComponent.ɵfac = function SignInComponent_Factory(t) {\n  return new (t || SignInComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataRepositoryService));\n};\nSignInComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignInComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 22,\n  vars: 11,\n  consts: [[1, \"header\"], [\"autocomplete\", \"off\", \"novalidate\", \"\", 3, \"ngSubmit\"], [\"signInForm\", \"ngForm\"], [1, \"form-group\", 3, \"ngClass\"], [\"for\", \"email\"], [4, \"ngIf\"], [\"required\", \"\", \"name\", \"email\", \"id\", \"email\", \"type\", \"text\", \"placeholder\", \"Email...\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"password\"], [\"required\", \"\", \"name\", \"password\", \"id\", \"password\", \"type\", \"password\", \"placeholder\", \"Password...\", 3, \"ngModel\", \"ngModelChange\"], [\"password\", \"ngModel\"], [1, \"form-group\", \"buttons\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"submit\", 1, \"save\", 3, \"disabled\"]],\n  template: function SignInComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 0);\n      i0.ɵɵtext(2, \"Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function SignInComponent_Template_form_ngSubmit_3_listener() {\n        i0.ɵɵrestoreView(_r5);\n        const _r0 = i0.ɵɵreference(4);\n        return i0.ɵɵresetView(ctx.signIn(_r0.value));\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, SignInComponent_em_8_Template, 2, 0, \"em\", 5);\n      i0.ɵɵelementStart(9, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function SignInComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.credentials.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, SignInComponent_em_14_Template, 2, 0, \"em\", 5);\n      i0.ɵɵelementStart(15, \"input\", 9, 10);\n      i0.ɵɵlistener(\"ngModelChange\", function SignInComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.credentials.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 11)(18, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function SignInComponent_Template_button_click_18_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(19, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 13);\n      i0.ɵɵtext(21, \"Sign In\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(4);\n      const _r2 = i0.ɵɵreference(10);\n      const _r4 = i0.ɵɵreference(16);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, _r2.invalid && _r2.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid && _r2.dirty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, _r4.invalid && _r4.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && _r4.dirty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.password);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"form[_ngcontent-%COMP%]{color:#369;font-size:24px;padding:30px;width:310px;margin:0 auto}input[_ngcontent-%COMP%]{display:block;font-size:24px;padding:10px;width:275px}button[_ngcontent-%COMP%]{font-size:26px;padding:8px;color:#556b8e;margin-left:10px}button[_ngcontent-%COMP%]:disabled{color:#999}.header[_ngcontent-%COMP%]{color:#369;text-align:center;padding-top:20px;margin-top:0}.form-group[_ngcontent-%COMP%]{margin:10px}.buttons[_ngcontent-%COMP%]{text-align:right;margin-right:0}.save[_ngcontent-%COMP%]{background-color:#cdf;border-color:#cdf}em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#e3c3c5}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:ms-input-placeholder{color:#999}\"]\n});\nexport class RegisterComponent {\n  constructor(router, dataRepository) {\n    this.router = router;\n    this.dataRepository = dataRepository;\n    this.saving = false;\n    this.firstName = new FormControl('', Validators.required);\n    this.lastName = new FormControl('', Validators.required);\n    this.email = new FormControl('', Validators.required);\n    this.password = new FormControl('', Validators.required);\n    this.registerForm = new FormGroup({\n      firstName: this.firstName,\n      lastName: this.lastName,\n      email: this.email,\n      password: this.password\n    });\n  }\n  registerUser(user) {\n    this.saving = true;\n    this.dataRepository.saveUser(user).subscribe({\n      error: () => this.saving = false,\n      complete: () => this.router.navigate(['/catalog'])\n    });\n  }\n  cancel() {\n    this.router.navigate(['/']);\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataRepositoryService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 28,\n  vars: 20,\n  consts: [[1, \"header\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", 3, \"ngClass\"], [\"for\", \"firstName\"], [4, \"ngIf\"], [\"formControlName\", \"firstName\", \"id\", \"firstName\", \"type\", \"text\", \"placeholder\", \"First Name...\"], [\"for\", \"lastName\"], [\"formControlName\", \"lastName\", \"id\", \"lastName\", \"type\", \"text\", \"placeholder\", \"Last Name...\"], [\"for\", \"email\"], [\"formControlName\", \"email\", \"id\", \"email\", \"type\", \"text\", \"placeholder\", \"Email...\"], [\"for\", \"password\"], [\"formControlName\", \"password\", \"id\", \"password\", \"type\", \"password\", \"placeholder\", \"Password...\"], [1, \"form-group\"], [\"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"save\", \"type\", \"submit\", 3, \"disabled\", 4, \"ngIf\"], [3, \"loading\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"submit\", 1, \"save\", 3, \"disabled\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 0);\n      i0.ɵɵtext(2, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.registerUser(ctx.registerForm.value);\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"First Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, RegisterComponent_em_7_Template, 2, 0, \"em\", 4);\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Last Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, RegisterComponent_em_12_Template, 2, 0, \"em\", 4);\n      i0.ɵɵelement(13, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 8);\n      i0.ɵɵtext(16, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, RegisterComponent_em_17_Template, 2, 0, \"em\", 4);\n      i0.ɵɵelement(18, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 2)(20, \"label\", 10);\n      i0.ɵɵtext(21, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, RegisterComponent_em_22_Template, 2, 0, \"em\", 4);\n      i0.ɵɵelement(23, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 12);\n      i0.ɵɵtemplate(25, RegisterComponent_button_25_Template, 2, 0, \"button\", 13);\n      i0.ɵɵtemplate(26, RegisterComponent_button_26_Template, 2, 1, \"button\", 14);\n      i0.ɵɵelement(27, \"loading-spinner\", 15);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, ctx.firstName.invalid && ctx.firstName.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstName.invalid && ctx.firstName.dirty);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ctx.lastName.invalid && ctx.lastName.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.lastName.invalid && ctx.lastName.dirty);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c0, ctx.email.invalid && ctx.email.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.email.invalid && ctx.email.dirty);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx.password.invalid && ctx.password.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.password.invalid && ctx.password.dirty);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saving);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saving);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"loading\", ctx.saving);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.LoadingComponent],\n  styles: [\"form[_ngcontent-%COMP%]{color:#369;display:flex;flex-wrap:wrap;font-size:24px;justify-content:flex-end;padding:30px;width:700px;margin:0 auto}input[_ngcontent-%COMP%]{display:block;font-size:24px;padding:10px}button[_ngcontent-%COMP%]{font-size:26px;padding:8px;color:#556b8e;margin-left:10px;width:120px}button[_ngcontent-%COMP%]:disabled{color:#999}.header[_ngcontent-%COMP%]{color:#369;text-align:center;padding-top:20px;margin-top:0}.form-group[_ngcontent-%COMP%]{margin:10px}.save[_ngcontent-%COMP%]{background-color:#cdf;border-color:#cdf}em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#e3c3c5}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#999}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:ms-input-placeholder{color:#999}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}